# 非機能要件書

本ドキュメントは、ヒアリングドキュメントから抽出した非機能要件を体系化し、定量的な指標として整理したものです。

## 1. 可用性

### 1.1 システム稼働率
**要件**: システムが止まらないようにしてほしい（休日・正月も含む）

**具体的指標**:
- システム稼働率: 99.9%以上（年間ダウンタイム8.76時間以内）
- 24時間365日の連続稼働
- 計画停止時間: 月4時間以内（深夜時間帯での実施）

### 1.2 災害復旧・事業継続性
**要件**: 24時間365日すぐでも戻せるようにしてほしい

**具体的指標**:
- RTO（Recovery Time Objective）: 4時間以内
- RPO（Recovery Point Objective）: 1時間以内
- 自動フェイルオーバー機能の実装
- 冗長化構成による単一障害点の排除

### 1.3 サービス復旧
**要件**: いつお客さんがいらっしゃるかわからない

**具体的指標**:
- 障害検知時間: 5分以内
- 初期対応時間: 15分以内
- エスカレーション体制: 段階的アラート機能

## 2. 性能・拡張性

### 2.1 同時利用者数
**要件**: 同時ユーザー10人くらい捌ければいい

**具体的指標**:
- 同時接続ユーザー数: 10名（初期要件）
- 将来拡張: 50名まで対応可能な設計
- レスポンス時間: 3秒以内（通常操作）
- スループット: 100リクエスト/分

### 2.2 拡張性
**要件**: 後から機能を追加するかもしれない

**具体的指標**:
- モジュラー設計による機能追加の容易性
- API設計による外部システム連携対応
- データベース容量: 年間30%増加まで対応
- 新機能追加時のシステム停止時間: 4時間以内

### 2.3 予約・課金システム連携
**要件**: 予約の情報や課金の情報を連携サイトと管理

**具体的指標**:
- 外部API連携のレスポンス時間: 5秒以内
- データ同期の頻度: リアルタイム
- 連携エラー時の自動リトライ機能
- データ整合性の確保

## 3. 運用・保守性

### 3.1 データバックアップ
**要件**: データのバックアップはもちろんした方がいい、特にユーザーの課金情報や予約情報

**具体的指標**:
- 自動バックアップ頻度: 1日1回（フルバックアップ）
- 増分バックアップ: 4時間毎
- バックアップ保持期間: 30日間
- 課金・予約データの特別保護: 暗号化バックアップ

### 3.2 24時間監視体制
**要件**: 24時間365日すぐでも戻せるように

**具体的指標**:
- システム監視: 24時間365日体制
- アラート通知: リアルタイム（メール・SMS）
- ログ保持期間: 1年間
- 定期メンテナンス: 月1回（深夜時間帯）

### 3.3 復旧手順
**要件**: 多分なくなると困るから、それは24時間365日すぐでも戻せるように

**具体的指標**:
- 復旧手順書の整備・定期更新
- 復旧テストの実施: 四半期毎
- 緊急連絡体制の確立
- 自動復旧機能の実装

## 4. 移行性

### 4.1 現行システムからの移行
**要件**: 現行のシステムはありません。新規に全部作ります

**具体的指標**:
- 新規システム構築のため移行作業なし
- データ移行: 新規のため該当なし
- ユーザー教育・トレーニング計画の策定
- 段階的リリース計画（MVP → 本格運用）

### 4.2 将来的な技術移行
**要件**: 後から機能を追加するかもしれない

**具体的指標**:
- 標準的な技術スタックの採用
- オープンスタンダードの活用
- ベンダーロックインの回避
- 段階的な技術リプレイス可能な設計

## 5. セキュリティ

### 5.1 個人情報保護
**要件**: 個人情報に近いところを管理することになるので、すごく厳密なものが必要

**具体的指標**:
- 個人情報の暗号化: AES-256
- アクセス制御: ロールベースアクセス制御（RBAC）
- 監査ログ: 全操作の記録・保管
- 定期的なセキュリティ監査: 年2回

### 5.2 課金・予約情報の保護
**要件**: 課金の情報や予約の情報の厳密な管理

**具体的指標**:
- 決済情報の非保持（PCI DSS準拠）
- データベース暗号化: TDE（Transparent Data Encryption）
- 通信暗号化: TLS 1.3以上
- アクセスログの改ざん防止機能

### 5.3 認証・認可
**要件**: 個人情報の厳密な管理

**具体的指標**:
- 多要素認証（MFA）の実装
- パスワードポリシー: 8文字以上、複雑性要件
- セッションタイムアウト: 30分
- 不正アクセスの自動検知・遮断

## 6. 環境・サステナビリティ

### 6.1 エネルギー効率
**要件**: 太陽光発電が使える環境があると、いいかなと思う

**具体的指標**:
- グリーンエネルギー対応データセンターの選択
- 省電力設計の採用
- カーボンニュートラルなクラウドサービスの活用
- エネルギー使用量の可視化・最適化

### 6.2 モバイル最適化
**要件**: ほとんどスマホの中のアプリケーションだから、そこまではない

**具体的指標**:
- レスポンシブデザインによるモバイル最適化
- 軽量な通信プロトコルの採用
- オフライン機能の実装（必要最小限）
- バッテリー消費の最小化

### 6.3 リソース効率化
**要件**: スマホアプリ中心のため環境負荷は限定的

**具体的指標**:
- サーバーレスアーキテクチャによるリソース効率化
- 自動スケーリングによる無駄なリソース消費の削減
- CDN活用による通信効率化
- ペーパーレス運用の推進

## 7. 要件一覧表

| 分類 | 項目 | 指標 | 目標値 |
|------|------|------|--------|
| 可用性 | システム稼働率 | アップタイム | 99.9%以上 |
| 可用性 | RTO | 復旧時間 | 4時間以内 |
| 可用性 | RPO | データ損失時間 | 1時間以内 |
| 性能 | 同時ユーザー数 | 接続数 | 10名（拡張時50名） |
| 性能 | レスポンス時間 | 応答時間 | 3秒以内 |
| 運用 | バックアップ頻度 | 実行間隔 | 1日1回（フル）、4時間毎（増分） |
| 運用 | 監視体制 | 稼働時間 | 24時間365日 |
| セキュリティ | 暗号化 | 強度 | AES-256、TLS 1.3以上 |
| セキュリティ | 認証 | 方式 | 多要素認証（MFA） |
| 環境 | エネルギー | 種類 | グリーンエネルギー対応 |

## 8. 今後の検討事項

### 8.1 定期見直し
- 要件の定期的な見直し（年1回）
- システム利用状況に基づく指標の調整
- 新しい技術動向の反映

### 8.2 追加検討が必要な項目
- 具体的なSLA（Service Level Agreement）の策定
- 災害対策の詳細計画
- セキュリティインシデント対応手順の策定
- 環境負荷測定・報告の仕組み

---

**作成日**: 2025年1月現在  
**最終更新**: 2025年1月現在  
**承認者**: [承認者名]  
**次回見直し予定**: 2026年1月